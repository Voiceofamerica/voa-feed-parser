service: voa-feedparser

plugins:
  - serverless-plugin-typescript
  - serverless-offline

provider:
  name: aws
  runtime: nodejs6.10
  stage: ${opt:stage, 'dev'}
  region: us-east-1
  profile: excella
  environment: ${file(./env.yml):${opt:stage, self:provider.stage}}

functions:
  articles:
    handler: handler.articles
    events:
      - http:
          path: articles
          method: get
          cors: true
  zones:
    handler: handler.zones
    events:
      - http:
          path: zones
          method: get
          cors: true
  search:
    handler: handler.search
    events:
      - http:
          path: search
          method: get
          cors: true
  breakingnews:
    handler: handler.breakingNews
    events:
      - http:
          path: breakingnews
          method: get
          cors: true
  topstories:
    handler: handler.topStories
    events:
      - http:
          path: topstories
          method: get
          cors: true
  scheduler:
    handler: handler.scheduler
    events:
      - http:
          path: scheduler
          method: get
          cors: true
  videoscheduler:
    handler: handler.videoScheduler
    events:
      - http:
          path: videoscheduler
          method: get
          cors: true
  liveaudio:
    handler: handler.liveAudio
    events:
      - http:
          path: liveaudio
          method: get
          cors: true
  livevideo:
    handler: handler.liveVideo
    events:
      - http:
          path: livevideo
          method: get
          cors: true
  audioclips:
    handler: handler.audioClips
    events:
      - http:
          path: audioclips
          method: get
          cors: true